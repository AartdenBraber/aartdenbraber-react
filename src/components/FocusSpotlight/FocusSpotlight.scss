.spotlight-background {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 0;
  pointer-events: none;
  overflow: hidden;
}

.background-wrapper {
  position: absolute;
  top: -5%;
  left: -5%;
  width: 110%;
  height: 110%;
  overflow: hidden;
}

.background {
  width: 100%;
  height: 100%;
  object-fit: cover;
  position: absolute;
  top: 0;
  left: 0;
}

.blurred {
  filter: blur(20px);
  z-index: 1;
  will-change: filter;
}
.spotlight {
  --x: -9999px;
  --y: -9999px;
  --spot-size: 200px;
  --spot-inner: 50%;
  --spot-middle: 90%;
  --spot-outer: 100%;

  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 2;
  pointer-events: none;

  mask-image: radial-gradient(
    circle var(--spot-size) at var(--x) var(--y),
    white 0%,
    white 80%,
    transparent 90%
  );
  -webkit-mask-image: radial-gradient(
    circle var(--spot-size) at var(--x) var(--y),
    white 0%,
    white 80%,
    transparent 90%
  );

  will-change: mask-image;
  contain: strict;
  backface-visibility: hidden;

  &::after {
    content: "";
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 3;

    mask-image: radial-gradient(
      circle var(--spot-size) at var(--x, -9999px) var(--y, -9999px),
      transparent var(--spot-inner),
      white var(--spot-middle),
      transparent var(--spot-outer)
    );
    -webkit-mask-image: radial-gradient(
      circle var(--spot-size) at var(--x, -9999px) var(--y, -9999px),
      transparent var(--spot-inner),
      white var(--spot-middle),
      transparent var(--spot-outer)
    );

    background-color: rgba(255, 255, 255, 0.1);
    will-change: mask-image;
    contain: strict;
  }

  &::before {
    content: "";
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 4;

    animation: fade-out-ring 2s forwards;

    mask-image: radial-gradient(
      circle var(--spot-size) at var(--x, -9999px) var(--y, -9999px),
      white 0%,
      white 0%,
      transparent var(--spot-outer)
    );
    -webkit-mask-image: radial-gradient(
      circle var(--spot-size) at var(--x, -9999px) var(--y, -9999px),
      white 0%,
      white var(--spot-middle),
      transparent var(--spot-outer)
    );

    background-color: white;
  }
  &.animate-ring::before {
    opacity: 0;
  }
}
@keyframes fade-out-ring {
  0% {
    opacity: 0.5;
  }
  80% {
    opacity: 0.5;
  }
  100% {
    opacity: 0;
  }
}

.focused {
  z-index: 2;
  will-change: transform, opacity;
}
